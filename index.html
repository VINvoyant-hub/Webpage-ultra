<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0B0F14">
  <title>VINvoyant — Concierge Vehicle Intelligence</title>
  <meta name="description" content="VIN-based maintenance forecasting, remote diagnostics, parts pricing + dispatch, and torque-spec repair guidance — delivered with concierge clarity.">

  <!-- Open Graph -->
  <meta property="og:title" content="VINvoyant — Concierge Vehicle Intelligence">
  <meta property="og:description" content="See the car’s future. Price the present. Execute with confidence.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="assets/vinvoyant-logo.png">

  <style>
    :root{
      --bg:#0B0F14;
      --bg2:#070A0F;
      --card:#0F1622;
      --ink:#D7DCE2;
      --muted:rgba(215,220,226,.72);
      --faint:rgba(215,220,226,.18);
      --accent:#31D6FF;
      --warn:#FFDC78;

      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius:22px;
      --radius2:28px;
      --max:1160px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(900px 700px at 15% 5%, rgba(49,214,255,.10), transparent 60%),
        radial-gradient(800px 680px at 80% 10%, rgba(215,220,226,.08), transparent 58%),
        radial-gradient(900px 700px at 50% 85%, rgba(49,214,255,.07), transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      overflow-x:hidden;
    }

    a{color:inherit; text-decoration:none}
    .wrap{max-width: var(--max); margin:0 auto; padding:0 20px}

    /* Subtle “guilloché-ish” texture layer */
    .texture{
      pointer-events:none;
      position:fixed; inset:0;
      opacity:.25;
      background:
        repeating-radial-gradient(circle at 50% 20%,
          rgba(215,220,226,.07) 0px,
          rgba(215,220,226,.07) 1px,
          transparent 7px,
          transparent 14px
        );
      mix-blend-mode: overlay;
      filter: blur(.3px);
    }

    /* Nav */
    header{
      position:sticky; top:0; z-index:40;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(11,15,20,.82), rgba(11,15,20,.62));
      border-bottom: 1px solid rgba(215,220,226,.10);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      color: rgba(215,220,226,.92);
    }
    .brandLogo{
      height: 48px;
      width:auto;
      display:block;
      filter: drop-shadow(0 0 20px rgba(49,214,255,.4));
      transform-origin: center center;
      animation: logoEntrance 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) both, logoGlow 3s ease-in-out 1.4s infinite;
    }
    @keyframes logoEntrance{
      0%{
        opacity:0;
        transform: scale(0.6) rotate(-8deg);
        filter: drop-shadow(0 0 0 rgba(49,214,255,0)) blur(8px);
      }
      50%{
        opacity:1;
        filter: drop-shadow(0 0 40px rgba(49,214,255,.7)) blur(0);
      }
      70%{
        transform: scale(1.08) rotate(2deg);
      }
      100%{
        opacity:1;
        transform: scale(1) rotate(0deg);
        filter: drop-shadow(0 0 20px rgba(49,214,255,.4));
      }
    }
    @keyframes logoGlow{
      0%, 100%{
        filter: drop-shadow(0 0 20px rgba(49,214,255,.4));
        transform: scale(1);
      }
      25%{
        filter: drop-shadow(0 0 35px rgba(49,214,255,.65)) drop-shadow(0 0 60px rgba(49,214,255,.25));
        transform: scale(1.02);
      }
      50%{
        filter: drop-shadow(0 0 25px rgba(49,214,255,.5));
        transform: scale(1);
      }
      75%{
        filter: drop-shadow(0 0 40px rgba(49,214,255,.7)) drop-shadow(0 0 70px rgba(49,214,255,.3));
        transform: scale(1.03);
      }
    }

    /* Logo splash (lightweight intro animation) */
    .splash{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(11,15,20,.86);
      backdrop-filter: blur(18px);
      z-index: 9999;
      opacity:0;
      pointer-events:none;
      transition: opacity .35s ease;
    }
    .splash.on{opacity:1; pointer-events:auto;}
    .splashInner{
      width: min(420px, 88vw);
      border-radius: 28px;
      border: 1px solid rgba(49,214,255,.35);
      background:
        radial-gradient(700px 280px at 50% 30%, rgba(49,214,255,.22), transparent 62%),
        rgba(11,15,20,.92);
      box-shadow: 0 30px 90px rgba(0,0,0,.65), 0 0 80px rgba(49,214,255,.15);
      padding: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .splashInner img{
      width: auto;
      max-width: 100%;
      max-height: 280px;
      height:auto;
      display:block;
      margin: 0 auto;
      object-fit: contain;
      animation: splashSpin 1.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
      transform-origin:center;
    }
    @keyframes splashSpin{
      0%{
        opacity:0;
        transform: scale(0.5) rotate(-15deg);
        filter: blur(12px) drop-shadow(0 0 0 rgba(49,214,255,0));
      }
      40%{
        opacity:1;
        filter: blur(0) drop-shadow(0 0 50px rgba(49,214,255,.8));
      }
      60%{
        transform: scale(1.1) rotate(5deg);
        filter: drop-shadow(0 0 60px rgba(49,214,255,.9)) drop-shadow(0 0 100px rgba(49,214,255,.4));
      }
      100%{
        opacity:1;
        transform: scale(1) rotate(0deg);
        filter: drop-shadow(0 0 30px rgba(49,214,255,.6));
      }
    }
    @media (prefers-reduced-motion: reduce){
      .brandLogo{animation:none}
      .splashInner img{animation:none}
      .splash{transition:none}
    }
    .navlinks{
      display:flex; gap:18px; align-items:center;
      font-size: 14px;
      color: rgba(215,220,226,.82);
    }
    .navlinks a{padding:10px 10px; border-radius: 12px}
    .navlinks a:hover{background: rgba(215,220,226,.06)}
    .cta{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(49,214,255,.22), rgba(49,214,255,.06));
      border: 1px solid rgba(49,214,255,.35);
      color: rgba(215,220,226,.96);
      font-weight: 650;
      box-shadow: 0 16px 50px rgba(0,0,0,.35);
      transition: transform .12s ease;
    }
    .cta:hover{transform: translateY(-1px)}
    .cta:active{transform: translateY(0px)}
    .cta small{opacity:.85; font-weight:600}

    /* Hero */
    .hero{padding: 46px 0 18px; position:relative;}
    .heroGrid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 26px;
      align-items:stretch;
    }
    .headline{padding: 20px 0;}
    .kicker{
      display:inline-flex; gap:10px; align-items:center;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.14);
      background: rgba(215,220,226,.04);
      color: rgba(215,220,226,.82);
      font-size: 13px;
      letter-spacing: .14em;
      text-transform: uppercase;
    }
    .dot{
      width:10px; height:10px; border-radius: 999px;
      background: rgba(49,214,255,.95);
      box-shadow: 0 0 0 6px rgba(49,214,255,.16);
    }
    h1{
      margin: 14px 0 12px;
      font-size: clamp(40px, 4.4vw, 62px);
      letter-spacing: -0.03em;
      line-height: 1.02;
    }
    .sub{
      margin:0 0 18px;
      font-size: 18px;
      line-height: 1.55;
      color: rgba(215,220,226,.82);
      max-width: 56ch;
    }
    .pillRow{display:flex; flex-wrap:wrap; gap:10px; margin-top: 16px}
    .pill{
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      font-size: 13px;
      color: rgba(215,220,226,.82);
    }
    .pill strong{color: rgba(215,220,226,.95)}

    /* Card */
    .card{
      border-radius: var(--radius2);
      background:
        radial-gradient(500px 340px at 20% 10%, rgba(49,214,255,.12), transparent 60%),
        linear-gradient(180deg, rgba(17,27,42,.88), rgba(13,20,32,.88));
      border: 1px solid rgba(215,220,226,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(700px 300px at 20% -10%, rgba(49,214,255,.22), transparent 55%),
        radial-gradient(520px 260px at 95% 20%, rgba(215,220,226,.10), transparent 55%);
      opacity:.7;
      pointer-events:none;
    }
    .cardIn{position:relative; padding: 18px}

    .seal{
      width: 100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 12px 0 8px;
    }
    .seal img{
      width: min(200px, 80%);
      height:auto;
      filter: drop-shadow(0 0 24px rgba(49,214,255,.45));
      opacity: 1;
      animation: sealPulse 4s ease-in-out infinite;
    }
    @keyframes sealPulse{
      0%, 100%{
        filter: drop-shadow(0 0 24px rgba(49,214,255,.45));
        transform: scale(1);
      }
      50%{
        filter: drop-shadow(0 0 40px rgba(49,214,255,.65)) drop-shadow(0 0 70px rgba(49,214,255,.25));
        transform: scale(1.02);
      }
    }
    .panelTitle{
      margin: 10px 0 10px;
      display:flex; justify-content:space-between; align-items:flex-end;
      gap: 12px;
    }
    .panelTitle h2{
      margin:0;
      font-size: 18px;
      letter-spacing:.08em;
      text-transform: uppercase;
      opacity:.92;
    }
    .panelTitle span{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(215,220,226,.68);
    }

    /* Form */
    form{margin:0}
    .vinBox{
      border-radius: 18px;
      background: rgba(11,15,20,.55);
      border: 1px solid rgba(215,220,226,.14);
      padding: 14px;
    }
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .field{margin-bottom: 10px}
    .label{
      font-size: 14px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(215,220,226,.70);
      margin: 2px 0 8px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      align-items:baseline;
    }
    .label em{
      font-style: normal;
      font-family: var(--mono);
      font-size: 12.5px;
      letter-spacing: .10em;
      opacity:.85;
    }
    input, select, textarea{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(215,220,226,.16);
      background: rgba(17,27,42,.55);
      color: var(--ink);
      font-family: var(--sans);
      font-size: 16px;
      outline:none;
    }
    textarea{min-height: 96px; resize: vertical; line-height:1.45}
    .mono{font-family: var(--mono); letter-spacing: .10em}
    input::placeholder, textarea::placeholder{color: rgba(215,220,226,.35)}
    input:focus, select:focus, textarea:focus{
      border-color: rgba(49,214,255,.55);
      box-shadow: 0 0 0 6px rgba(49,214,255,.12);
    }

    .options{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 6px;
    }
    .opt{
      display:inline-flex;
      gap:10px;
      align-items:center;
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 10px 12px;
      font-size: 13px;
      color: rgba(215,220,226,.82);
      cursor:pointer;
      user-select:none;
    }
    .opt input{width:auto; margin:0; padding:0; box-shadow:none}
    .opt b{color: rgba(215,220,226,.95)}

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      margin-top: 12px;
      flex-wrap:wrap;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding: 13px 14px;
      border-radius: 14px;
      background: rgba(49,214,255,.18);
      border: 1px solid rgba(49,214,255,.45);
      color: rgba(215,220,226,.96);
      font-weight: 800;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      min-width: 160px;
      transition: transform .12s ease;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn:active{transform: translateY(0px)}
    .ghost{
      background: rgba(215,220,226,.04);
      border: 1px solid rgba(215,220,226,.14);
      min-width: 140px;
      font-weight: 750;
    }

    .danger{
      background: rgba(255,220,120,.10);
      border: 1px solid rgba(255,220,120,.42);
      min-width: 160px;
      font-weight: 850;
    }
    .idrow{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-top: 10px;
    }
    .idpill{
      font-family: var(--mono);
      letter-spacing: .14em;
      font-weight: 900;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(49,214,255,.40);
      background: rgba(49,214,255,.12);
      color: rgba(215,220,226,.96);
    }
    .toast code{
      font-family: var(--mono);
      font-size: 12px;
      background: rgba(11,15,20,.55);
      padding: 3px 6px;
      border-radius: 10px;
      border: 1px solid rgba(215,220,226,.12);
    }

    /* Upload Kit */
    .uploadKit{
      border-radius: var(--radius2);
      border: 1px solid rgba(215,220,226,.14);
      background:
        radial-gradient(700px 320px at 20% 10%, rgba(49,214,255,.12), transparent 62%),
        rgba(215,220,226,.03);
      padding: 18px;
      overflow:hidden;
      box-shadow: 0 22px 70px rgba(0,0,0,.45);
    }
    .uploadGrid{display:grid; grid-template-columns: 1.15fr .85fr; gap: 14px; margin-top: 14px;}
    .callout{
      border-radius: 18px;
      border: 1px solid rgba(215,220,226,.14);
      background: rgba(11,15,20,.55);
      padding: 14px;
    }
    .callout h4{
      margin:0 0 10px;
      font-size: 13px;
      letter-spacing: .14em;
      text-transform: uppercase;
      opacity:.88;
    }
    .list{
      margin: 0;
      padding: 0;
      list-style:none;
    }
    .list li{
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid rgba(215,220,226,.10);
      background: rgba(215,220,226,.03);
      margin: 10px 0;
      color: rgba(215,220,226,.78);
      line-height:1.45;
      font-size: 14px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
    }
    .list li b{color: rgba(215,220,226,.94)}
    .hint{
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: .10em;
      opacity:.9;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.14);
      background: rgba(215,220,226,.04);
      white-space:nowrap;
      color: rgba(215,220,226,.74);
      flex: 0 0 auto;
      margin-top: 1px;
    }

    @media (max-width: 980px){
      .uploadGrid{grid-template-columns: 1fr;}
    }
    .microStatus{
      margin-top: 10px;
      font-family: var(--mono);
      font-size: 14px;
      color: rgba(215,220,226,.72);
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
    }
    .chip b{color: rgba(215,220,226,.95)}
    .ok{color: rgba(49,214,255,.95)}
    .warn{color: rgba(255,220,120,.92)}
    #selectedPrice{font-size: 16px}

    .toast{
      display:none;
      margin-top: 12px;
      border-radius: 18px;
      border: 1px solid rgba(49,214,255,.35);
      background: rgba(49,214,255,.10);
      padding: 12px;
      color: rgba(215,220,226,.92);
      line-height:1.45;
      font-size: 13px;
    }
    .toast strong{color: rgba(215,220,226,.98)}

    /* Sections */
    section{padding: 54px 0}
    .sectionHead{
      display:flex; align-items:flex-end; justify-content:space-between; gap:16px;
      margin-bottom: 18px;
    }
    .sectionHead h2{margin:0; font-size: 26px; letter-spacing: -0.02em;}
    .sectionHead p{
      margin:0;
      color: rgba(215,220,226,.74);
      max-width: 56ch;
      line-height:1.5;
      font-size: 15px;
    }

    .grid3{display:grid; grid-template-columns: repeat(3, 1fr); gap: 14px;}
    .grid9{display:grid; grid-template-columns: repeat(3, 1fr); gap: 18px;}
    .mini{
      border-radius: var(--radius);
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 16px;
      min-height: 160px;
      position:relative;
      overflow:hidden;
    }
    .mini:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(380px 220px at 15% 5%, rgba(49,214,255,.10), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .miniIn{position:relative}
    .icon{
      width:40px; height:40px; border-radius: 16px;
      background: rgba(49,214,255,.12);
      border: 1px solid rgba(49,214,255,.35);
      display:flex; align-items:center; justify-content:center;
      margin-bottom: 12px;
    }
    .mini h3{margin:0 0 8px; font-size: 16px}
    .mini p{margin:0; color: rgba(215,220,226,.74); line-height:1.5; font-size: 14px}

    /* Steps */
    .steps{display:grid; grid-template-columns: repeat(3, 1fr); gap:14px;}
    .step{
      border-radius: var(--radius);
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .step:after{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(520px 220px at 0% 0%, rgba(49,214,255,.08), transparent 60%),
        radial-gradient(480px 220px at 110% 20%, rgba(215,220,226,.06), transparent 62%);
      opacity:.9;
      pointer-events:none;
    }
    .stepIn{position:relative; display:flex; gap:12px}
    .num{
      width:42px; height:42px; border-radius: 16px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(11,15,20,.55);
      border: 1px solid rgba(215,220,226,.12);
      font-family: var(--mono);
      color: rgba(49,214,255,.95);
      flex: 0 0 auto;
    }
    .step h4{margin:0 0 6px; font-size: 15px}
    .step p{margin:0; color: rgba(215,220,226,.74); line-height:1.5; font-size: 14px}

    /* Sample report preview */
    .sample{
      border-radius: var(--radius2);
      border: 1px solid rgba(215,220,226,.14);
      background:
        radial-gradient(700px 320px at 20% 10%, rgba(49,214,255,.12), transparent 62%),
        rgba(215,220,226,.03);
      padding: 18px;
      overflow:hidden;
      box-shadow: 0 22px 70px rgba(0,0,0,.45);
    }
    .tabs{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .tab{
      border-radius: 999px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 10px 12px;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      color: rgba(215,220,226,.80);
    }
    .tab.on{
      border-color: rgba(49,214,255,.42);
      background: rgba(49,214,255,.10);
      color: rgba(215,220,226,.95);
    }
    .previewGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      margin-top: 14px;
    }
    .mock{
      border-radius: 18px;
      border: 1px solid rgba(215,220,226,.14);
      background: rgba(11,15,20,.55);
      padding: 14px;
      position:relative;
      overflow:hidden;
    }
    .mock h4{
      margin:0 0 10px;
      font-size: 13px;
      letter-spacing: .14em;
      text-transform: uppercase;
      opacity:.88;
    }
    .row{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid rgba(215,220,226,.10);
      background: rgba(215,220,226,.03);
      margin: 10px 0;
    }
    .row b{display:block; font-size: 14px}
    .row span{display:block; margin-top: 3px; color: rgba(215,220,226,.70); font-size: 13px; line-height:1.35}
    .tag{
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: .12em;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(49,214,255,.35);
      background: rgba(49,214,255,.10);
      color: rgba(215,220,226,.92);
      white-space:nowrap;
      flex: 0 0 auto;
      margin-top: 2px;
    }
    .table{
      width:100%;
      border-collapse: separate;
      border-spacing: 0;
      overflow:hidden;
      border-radius: 16px;
      border: 1px solid rgba(215,220,226,.12);
      margin-top: 10px;
    }
    .table th, .table td{
      text-align:left;
      padding: 10px 10px;
      font-size: 13px;
      border-bottom: 1px solid rgba(215,220,226,.10);
    }
    .table th{
      font-size: 12px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: rgba(215,220,226,.74);
      background: rgba(215,220,226,.04);
    }
    .table tr:last-child td{border-bottom:none}
    .note{
      margin-top: 10px;
      color: rgba(215,220,226,.68);
      line-height:1.55;
      font-size: 13px;
    }

    /* Pricing */
    .pricing{display:grid; grid-template-columns: repeat(3, 1fr); gap:18px;}
    .tier{
      border-radius: var(--radius2);
      border: 1px solid rgba(215,220,226,.14);
      background:
        radial-gradient(520px 280px at 18% 8%, rgba(49,214,255,.11), transparent 62%),
        rgba(215,220,226,.03);
      padding: 22px;
      position:relative;
      overflow:hidden;
      min-height: 360px;
    }
    .tier.pop{
      border-color: rgba(49,214,255,.40);
      box-shadow: 0 22px 70px rgba(0,0,0,.50);
      transform: translateY(-2px);
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(49,214,255,.42);
      background: rgba(49,214,255,.12);
      font-size: 13px;
      font-weight: 800;
      letter-spacing: .10em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }
    .tier h3{margin: 0 0 8px; font-size: clamp(24px, 2.6vw, 32px); letter-spacing: -0.02em}
    .price{
      font-family: var(--mono);
      font-size: 18px;
      color: rgba(215,220,226,.78);
      margin-bottom: 12px;
      line-height: 1.2;
    }
    .price b{font-size: 24px; color: rgba(215,220,226,.95)}
    .priceSub{
      margin: -6px 0 12px;
      color: rgba(215,220,226,.70);
      font-size: 15px;
      line-height: 1.45;
    }
    .tierInfo{
      border-radius: 18px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 14px 14px;
      color: rgba(215,220,226,.74);
      line-height: 1.6;
      font-size: 18px;
      margin: 10px 0 14px;
    }
    .tierInfo b{color: rgba(215,220,226,.92)}
    .tier ul{margin: 10px 0 0; padding:0; list-style:none}
    .tier li{
      display:flex; gap:10px; align-items:flex-start;
      margin: 10px 0;
      color: rgba(215,220,226,.78);
      line-height:1.4;
      font-size: 16px;
    }
    .tick{
      width:18px; height:18px; border-radius: 999px;
      border: 1px solid rgba(49,214,255,.42);
      background: rgba(49,214,255,.10);
      flex: 0 0 auto;
      margin-top: 2px;
      position:relative;
    }
    .tick:after{
      content:"";
      position:absolute;
      width:8px; height:4px;
      border-left:2px solid rgba(49,214,255,.95);
      border-bottom:2px solid rgba(49,214,255,.95);
      transform: rotate(-45deg);
      left:4px; top:5px;
    }

    /* Hero pricing (move pricing upfront) */
    .heroPricing{margin-top: 18px;}
    .heroPricingHead{
      margin: 10px 0 10px;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
    }
    .heroPricingHead h2{
      margin: 0 0 6px;
      font-size: clamp(26px, 2.8vw, 36px);
      letter-spacing: -0.02em;
    }
    .heroPricingHead p{
      margin: 0;
      font-size: 16px;
      line-height: 1.55;
      color: rgba(215,220,226,.78);
      max-width: 70ch;
    }

    /* Jump grid (3×3 headings) */
    .jumpCard{
      display:block;
      color: inherit;
      text-decoration:none;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .jumpCard:hover{
      transform: translateY(-2px);
      border-color: rgba(49,214,255,.26);
      background: rgba(49,214,255,.05);
    }

    /* FAQ */
    details{
      border-radius: 18px;
      border: 1px solid rgba(215,220,226,.12);
      background: rgba(215,220,226,.03);
      padding: 14px 14px;
    }
    details + details{margin-top: 10px}
    summary{
      cursor:pointer;
      list-style:none;
      display:flex; align-items:center; justify-content:space-between;
      font-weight: 800;
      letter-spacing: .02em;
    }
    summary::-webkit-details-marker{display:none}
    details p{margin:10px 0 0; color: rgba(215,220,226,.74); line-height:1.55; font-size: 14px}

    /* Footer CTA */
    .final{
      border-radius: var(--radius2);
      border: 1px solid rgba(215,220,226,.14);
      background:
        radial-gradient(700px 280px at 20% 10%, rgba(49,214,255,.14), transparent 62%),
        rgba(215,220,226,.03);
      padding: 22px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      flex-wrap:wrap;
    }
    .final h3{margin:0 0 6px; font-size: 20px}
    .final p{margin:0; color: rgba(215,220,226,.74); line-height:1.5; font-size: 14px; max-width: 62ch}
    .finalActions{display:flex; gap:10px; flex-wrap:wrap}

    /* Reveal animation */
    .reveal{opacity:0; transform: translateY(10px); transition: opacity .7s ease, transform .7s ease}
    .reveal.on{opacity:1; transform: translateY(0)}

    /* Floating orb */
    .orb{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 80;
      width: 62px;
      height: 62px;
      border-radius: 999px;
      border: 1px solid rgba(49,214,255,.45);
      background:
        radial-gradient(22px 22px at 30% 30%, rgba(49,214,255,.35), transparent 60%),
        linear-gradient(145deg, rgba(49,214,255,.20), rgba(49,214,255,.06));
      box-shadow: 0 20px 70px rgba(0,0,0,.55);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, opacity .25s ease;
      opacity: 0;
      pointer-events:none;
    }
    .orb.on{opacity:1; pointer-events:auto;}
    .orb:hover{transform: translateY(-2px)}
    .orb:active{transform: translateY(0px)}
    .orb:before{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(49,214,255,.18), transparent 62%);
      filter: blur(1px);
      animation: pulse 2.2s ease-in-out infinite;
      opacity:.85;
    }
    @keyframes pulse{
      0%{transform: scale(.92); opacity:.55}
      50%{transform: scale(1.05); opacity:.95}
      100%{transform: scale(.92); opacity:.55}
    }
    .orb span{
      position:relative;
      font-family: var(--mono);
      font-weight: 900;
      letter-spacing: .10em;
      font-size: 12px;
      color: rgba(215,220,226,.95);
    }

    /* Responsive */
    @media (max-width: 980px){
      .heroGrid{grid-template-columns: 1fr; }
      .grid3{grid-template-columns: 1fr;}
      .steps{grid-template-columns: 1fr;}
      .pricing{grid-template-columns: 1fr;}
      .previewGrid{grid-template-columns: 1fr;}
      .navlinks{display:none}
      .orb{right: 14px; bottom: 14px}
    }
  </style>
</head>

<body>
  <div class="texture" aria-hidden="true"></div>
  <div class="splash" id="logoSplash" aria-hidden="true">
    <div class="splashInner">
      <img src="https://res.cloudinary.com/demo/image/fetch/f_auto,q_auto/https://main--meek-sorbet-8a4ee2.netlify.app/assets/vinvoyant-logo.png?_a=BBFAAAAA0" alt="VINvoyant" loading="lazy">
    </div>
  </div>

  <header>
    <div class="wrap">
      <div class="nav">
        <a class="brand" href="#top" aria-label="VINvoyant Home">
          <img class="brandLogo" src="https://res.cloudinary.com/demo/image/fetch/f_auto,q_auto/https://main--meek-sorbet-8a4ee2.netlify.app/assets/vinvoyant-logo.png?_a=BBFAAAAA0" alt="VINvoyant" loading="lazy">
        </a>
        <nav class="navlinks" aria-label="Primary">
          <a href="#services">Services</a>
          <a href="#pricing">Pricing</a>
          <a href="#faq">FAQ</a>
        </nav>
        <a class="cta" href="#start" role="button">
          Start a Request <small>→</small>
        </a>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO -->
    <section class="hero">
      <div class="wrap">
        <div class="heroGrid">
          <aside class="card reveal" id="start">
            <div class="cardIn">
	              <div class="seal" aria-hidden="true">
	                <img src="assets/vinvoyant-seal-new.png" alt="VINvoyant Verified Report Seal" loading="lazy">
	              </div>

              <div class="panelTitle">
                <h2>VINvoyant Intake</h2>
                <span id="vinMeta">READY</span>
              </div>

              <!-- REAL INTAKE FORM (NO MAILTO) -->
              <!-- Replace the action URL with your endpoint:
                   - Formspree: https://formspree.io/f/xxxxxxx
                   - Netlify Forms: leave action blank, add data-netlify="true"
                   - Make.com/Zapier webhook: your webhook URL
              -->
              <form id="intakeForm" name="vinvoyant_intake" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/success.html">
                <!-- Netlify Forms -->
                <input type="hidden" name="form-name" value="vinvoyant_intake">
                <p style="display:none;">
                  <label>Don’t fill this out if you’re human: <input name="bot-field"></label>
                </p>

	                <div class="vinBox">

	                  <div class="grid2">
	                    <div class="field">
	                      <div class="label">Name</div>
	                      <input name="name" type="text" placeholder="Your name" required="">
	                    </div>
                    <div class="field">
                      <div class="label">Email</div>
                      <input name="email" type="email" placeholder="you@email.com" required="">
                    </div>
                  </div>

                  <div class="grid2">
                    <div class="field">
                      <div class="label">VIN <em id="vinCount">0/17</em></div>
                      <input id="vinInput" name="vin" class="mono" type="text" maxlength="17" placeholder="WDDUG8DBXLA..." autocomplete="off" spellcheck="false" required="">
                    </div>
                    <div class="field">
                      <div class="label">Goal</div>
                      <select name="goal" required="">
                        <option value="" selected="" disabled="">Choose the mission</option>
                        <option>Maintenance Forecast</option>
                        <option>Diagnosis / Warning Light</option>
                        <option>Pre‑Purchase / Used Car Review</option>
                        <option>Parts Blueprint</option>
                        <option>In‑Person Pre‑Purchase Inspection (VINvoyant Verify)</option>
                        <option>Technician Repairs (VINvoyant Execute)</option>
                        <option>Other</option>
                      </select>
                    </div>
                  </div>

                  <div class="grid2">
                    <div class="field">
                      <div class="label">Service</div>
                      <select id="serviceLevel" name="service_level" required="">
                        <option value="" selected="" disabled="">Select service</option>
                        <option value="brief_remote">VINvoyant Brief (Remote)</option>
                        <option value="command_remote">VINvoyant Command (Remote)</option>
                        <option value="verify_ppi_inperson">VINvoyant Verify (Mobile PPI)</option>
                        <option value="confirm_diag_inperson">VINvoyant Confirm (Diag + Quote)</option>
                      </select>
                    </div>
                    <div class="field">
                      <div class="label">Vehicle Tier</div>
                      <select id="vehicleTier" name="vehicle_tier" required="">
                        <option value="" selected="" disabled="">Select tier</option>
                        <option value="tier_a">Standard</option>
                      </select>
                    </div>
                  </div>

                  <div class="microStatus" style="margin-top:8px;">
                    <span class="chip"><b>Selected price:</b> <span id="selectedPrice" class="mono">—</span></span>
                    <span class="chip"><b>Note:</b> in-person availability varies by region</span>
                  </div>

                  <!-- Stripe checkout (moved closer to the top for faster payment flow) -->
                  <div class="field">
                    <div class="label">Checkout <em>required to submit</em></div>
                    <div class="actions" style="margin-top:0;">
                      <a class="btn danger" id="payBtn" href="#" target="_blank" rel="noopener">Pay Now</a>
                      <button class="btn ghost" id="paidBtn" type="button">Verify Payment</button>
                    </div>
                    <div class="microStatus">
                      <span class="chip"><b>Payment:</b> <span id="payStatus" class="warn">Not confirmed</span></span>
                      <span class="chip"><b>Request ID:</b> <span class="mono" id="ridMini">VV-0000-00000</span></span>
                    </div>
                    <input type="hidden" id="paid_confirmed" name="paid_confirmed" value="false">
                    <input type="hidden" id="payment_reference" name="payment_reference" value="">
                  </div>

                  <div class="field">
                    <div class="label">Symptoms / Context</div>
                    <textarea name="symptoms" placeholder="What are you seeing/hearing? When did it start? What changed? Any recent repairs?" required=""></textarea>
                  </div>

                  <div class="grid2">
                    <div class="field">
                      <div class="label">DTC Codes (optional)</div>
                      <input name="dtc_codes" class="mono" type="text" placeholder="P0300, U0100, 43FF...">
                    </div>
                    <div class="field">
                      <div class="label">Evidence Links (optional)</div>
                      <input id="evidenceLinks" name="evidence_links" type="text" placeholder="Google Drive / iCloud / Imgur / etc.">
                    </div>
                  </div>

                  <div class="field">
                    <div class="label">Deliverables</div>
                    <div class="options">
                      <label class="opt"><input type="checkbox" name="deliverables" value="Summary"> <b>Summary</b></label>
                      <label class="opt"><input type="checkbox" name="deliverables" value="Forecast"> <b>Forecast</b></label>
                      <label class="opt"><input type="checkbox" name="deliverables" value="Parts Blueprint"> <b>Parts Blueprint</b></label>
                      <label class="opt"><input type="checkbox" name="deliverables" value="VINvoyant Guide"> <b>VINvoyant Guide</b></label>
                      <label class="opt"><input type="checkbox" name="deliverables" value="VINvoyant Dispatch"> <b>VINvoyant Dispatch</b></label>
                    </div>
                  </div>

                  <!-- Hidden metadata fields -->
                  <input type="hidden" name="source" value="vinvoyant-onepage-v3">
                  <input type="hidden" id="request_id" name="request_id" value="">
                  <input type="hidden" id="vin_valid" name="vin_valid" value="false">
	
	                  <div class="actions">
	                    <button class="btn" id="submitBtn" type="submit">Submit Request</button>
	                    <button class="btn ghost" id="resetBtn" type="button">Reset</button>
	                  </div>

                  <div class="microStatus" id="statusLine">
                    <span class="chip"><b>VIN:</b> <span id="vinStatus" class="warn">Waiting</span></span>
                    <span class="chip"><b>Turnaround:</b> 30–90 min</span>
                    <span class="chip"><b>Delivery:</b> email summary + optional report</span>
                  </div>

                  <div class="toast" id="toast">

                    <strong>Request received.</strong> Your Request ID is below. Keep it — it’s your ticket number.
                    <div class="idrow">
                      <span class="idpill" id="rid">VV-0000-00000</span>
                      <button class="btn ghost" id="copyRid" type="button" style="min-width:140px;">Copy ID</button>
                      <a class="btn" href="#upload" id="goUpload" style="min-width:160px;">Upload Next</a>
                    </div>
                    <div style="margin-top:8px; opacity:.9;">
                      Put <code id="ridCode">VV-0000-00000</code> in your upload folder name (or message) so everything stays matched.
                    </div>
                    <div style="margin-top:8px; opacity:.85">If you have scan screenshots, reply to the confirmation email with attachments — and include your Request ID.</div>
                  </div>
                  </div>
                </form></div>
              

              <p style="margin:12px 2px 0; color: rgba(215,220,226,.68); line-height:1.5; font-size: 13px;">
                This intake is designed to feed an inbox, webhook, or CRM. No “mystery scraping.” Just technician-grade signal.
              </p>
            </aside></div>
          

	          <div class="headline reveal">
	            <div class="kicker"><span class="dot" aria-hidden="true"></span> concierge vehicle intelligence</div>
	            <h1>See the car’s future.<br>Price the present.</h1>
	            <p class="sub">
	              VINvoyant turns a VIN + your symptoms into a clean plan: maintenance forecast, diagnosis triage,
	              parts pricing + dispatch, and torque‑spec repair guidance — delivered with concierge clarity.
	            </p>
              <div class="actions reveal" style="margin-top: 14px;">
                <a class="btn danger" href="#start" role="button">Start a Request</a>
                <a class="btn ghost" href="#pricing" role="button">View Pricing</a>
              </div>
              <div class="pillRow">
                <div class="pill"><strong>VIN-Based</strong> forecast</div>
                <div class="pill"><strong>Remote</strong> diagnosis triage</div>
                <div class="pill"><strong>Parts</strong> pricing + dispatch</div>
                <div class="pill"><strong>Repair</strong> instructions + interpretation</div>
              </div>
	          </div>
        </div>
      
    </section>

    <!-- SERVICES 3x3 GRID -->
    <section id="services" aria-label="Core Services">
      <div class="wrap">
        <div class="sectionHead reveal">
          <div><h2>Intelligence. Precision. Clarity.</h2></div>
        </div>

        <div class="grid3">
          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M12 3v6l4 2" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M21 12a9 9 0 1 1-9-9" stroke="rgba(215,220,226,.9)" stroke-width="2" opacity=".85"></path>
                </svg>
              </div>
              <h3>Maintenance Forecast</h3>
              <p>VIN-based service cadence. Priority plan, not panic.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M4 19V5" stroke="rgba(215,220,226,.9)" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M8 11h12" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M8 7h10" stroke="rgba(215,220,226,.9)" stroke-width="2" stroke-linecap="round" opacity=".7"></path>
                </svg>
              </div>
              <h3>Diagnosis Triage</h3>
              <p>DTC interpretation. Confidence-rated logic.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M3 7h18l-2 10H5L3 7Z" stroke="rgba(215,220,226,.9)" stroke-width="2"></path>
                  <path d="M7 17a2 2 0 1 0 0 4a2 2 0 0 0 0-4Z" stroke="rgba(49,214,255,.95)" stroke-width="2"></path>
                  <path d="M17 17a2 2 0 1 0 0 4a2 2 0 0 0 0-4Z" stroke="rgba(49,214,255,.95)" stroke-width="2"></path>
                </svg>
              </div>
              <h3>Parts + Dispatch</h3>
              <p>Price. Source. Coordinate delivery.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7Z" stroke="rgba(49,214,255,.95)" stroke-width="2"></path>
                </svg>
              </div>
              <h3>Repair Guidance</h3>
              <p>Step-by-step. Torque specs when needed.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M20 7l-8-4-8 4v10l8 4 8-4V7Z" stroke="rgba(215,220,226,.9)" stroke-width="2"></path>
                  <path d="M9 12l2 2 4-5" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </div>
              <h3>Pre-Purchase Review</h3>
              <p>Buy / pass / negotiate. Evidence-driven.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M5 4h10l4 4v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" stroke="rgba(215,220,226,.9)" stroke-width="2"></path>
                  <path d="M9 13h6" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </div>
              <h3>Forwardable Summary</h3>
              <p>Shop-ready. Plain English. Actionable.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M7 7h10M7 12h10M7 17h10" stroke="rgba(215,220,226,.9)" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M4 4h16v16H4V4Z" stroke="rgba(49,214,255,.95)" stroke-width="2" opacity=".85"></path>
                </svg>
              </div>
              <h3>In-Person Options</h3>
              <p>Mobile PPI. On-site diag. Execution.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M4 20V6" stroke="rgba(215,220,226,.9)" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M8 12h12" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </div>
              <h3>Confidence Ratings</h3>
              <p>Probability language. Evidence hierarchy.</p>
            </div>
          </div>

          <div class="mini reveal">
            <div class="miniIn">
              <div class="icon" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="9" stroke="rgba(215,220,226,.9)" stroke-width="2"></circle>
                  <path d="M12 7v5l3 3" stroke="rgba(49,214,255,.95)" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </div>
              <h3>30-90 Min Turnaround</h3>
              <p>Decision-quality clarity. Fast.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ACCESS PRICING -->
    <section id="pricing" aria-label="Access pricing">
      <div class="wrap">
        <div class="heroPricing">
          <div class="heroPricingHead reveal">
            <h2>Access pricing</h2>
            <p>Remote services are nationwide; in-person services vary by region.</p>
          </div>

          <div class="pricing">
            <div class="tier reveal">
              <h3>VINvoyant Brief</h3>
              <div class="price"><b>$129</b></div>
              <div class="priceSub">Decision-grade overview for one issue or a maintenance forecast.</div>
              <ul>
                <li><span class="tick"></span><span>VIN-based maintenance forecast + priority plan</span></li>
                <li><span class="tick"></span><span>DTC / symptom interpretation (confidence-rated)</span></li>
                <li><span class="tick"></span><span>Parts list + pricing ranges</span></li>
                <li><span class="tick"></span><span>Forwardable summary</span></li>
              </ul>
            </div>

            <div class="tier pop reveal">
              <div class="badge">Most Popular</div>
              <h3>VINvoyant Command</h3>
              <div class="price"><b>$249</b></div>
              <div class="priceSub">White-glove plan + follow-through for complex symptoms, sourcing, and execution decisions.</div>
              <ul>
                <li><span class="tick"></span><span>Everything in VINvoyant Brief</span></li>
                <li><span class="tick"></span><span>Sourcing logic: OEM vs smart alternatives</span></li>
                <li><span class="tick"></span><span>Optional order + dispatch coordination (VINvoyant Dispatch)</span></li>
                <li><span class="tick"></span><span>Follow-up refinement (within scope, 7 days)</span></li>
              </ul>
            </div>

            <div class="tier reveal">
              <h3>VINvoyant Continuum</h3>
              <div class="price"><b>$69</b>/mo</div>
              <div class="priceSub">Ongoing oversight for owners who want calm control (and fewer surprises).</div>
              <ul>
                <li><span class="tick"></span><span>Ongoing maintenance timeline</span></li>
                <li><span class="tick"></span><span>Priority intake for new symptoms / lights</span></li>
                <li><span class="tick"></span><span>Seasonal readiness checks</span></li>
                <li><span class="tick"></span><span>1 VINvoyant Brief credit / month (rolls 30 days)</span></li>
              </ul>
            </div>
          </div>

          <div class="tierInfo reveal" style="margin-top:14px;">
            <b>Mission briefs (one-offs)</b><br>
            VINvoyant Forecast (maintenance only): <b>$89</b><br>
            VINvoyant Triage (warning light / symptom): <b>$109</b><br>
            VINvoyant Blueprint (parts only): <b>$89</b><br>
            Pre‑Purchase / Used Car Review (remote, document-based): <b>$169</b>
          </div>

          <div class="tierInfo reveal" style="margin-top:14px;">
            <b>Remote add-ons</b><br>
            VINvoyant Guide (step-by-step + tool notes + torque specs when applicable): +$59<br>
            VINvoyant Dispatch (sourcing + coordination; client pays parts + delivery): +$49
          </div>

          <p class="reveal" style="margin:14px 0 0; color: rgba(215,220,226,.68); line-height:1.55; font-size: 15px;">
            Note: VINvoyant does not pull proprietary history reports without authorization. If you have a report (Carfax/AutoCheck/etc.),
            attach it via link and it will be interpreted with technician logic.
          </p>

          <div class="actions reveal" style="margin-top: 14px;">
            <a class="btn danger" href="#start" role="button">Start a Request</a>
            <a class="btn ghost" href="#inperson" role="button">In‑person options</a>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS (condensed 3x3) -->
    <section id="how">
      <div class="wrap">
        <div class="sectionHead reveal">
          <div><h2>The Process</h2></div>
        </div>

        <div class="grid3">
          <div class="step reveal">
            <div class="stepIn">
              <div class="num">01</div>
              <div>
                <h4>Select Mission</h4>
                <p>Maintenance, diagnosis, pre-purchase, or parts.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">02</div>
              <div>
                <h4>Service + Tier</h4>
                <p>Import/Domestic or European/Exotic.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">03</div>
              <div>
                <h4>Checkout</h4>
                <p>Payment enters the active queue.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">04</div>
              <div>
                <h4>Submit Intake</h4>
                <p>VIN + context + optional evidence.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">05</div>
              <div>
                <h4>Triage</h4>
                <p>Confidence-rated prioritization.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">06</div>
              <div>
                <h4>Receive Plan</h4>
                <p>30-90 min. Forwardable summary.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">07</div>
              <div>
                <h4>Parts Blueprint</h4>
                <p>OEM vs alternatives. Price ranges.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">08</div>
              <div>
                <h4>Follow-up</h4>
                <p>Refinement with new evidence.</p>
              </div>
            </div>
          </div>

          <div class="step reveal">
            <div class="stepIn">
              <div class="num">09</div>
              <div>
                <h4>Execute</h4>
                <p>Optional dispatch or in-person.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SAMPLE PREVIEW -->
    <section id="sample">
      <div class="wrap">
        <details class="reveal">
          <summary>Sample output (decision‑quality)</summary>
          <p>This is the “feel”: concise, ranked, confidence-rated, and built to be forwarded to a shop without losing meaning.</p>

          <div class="sample" style="margin-top:12px;">
          <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:flex-end;">
            <div>
              <div class="kicker" style="margin-bottom:10px;"><span class="dot" aria-hidden="true"></span> sample vehicle intelligence</div>
              <div style="font-family: var(--mono); letter-spacing:.12em; color: rgba(215,220,226,.70); font-size: 12px;">
                VIN: WDDUG8DBXLA123456 • DATE: <span id="sampleDate"></span>
              </div>
            </div>
            <div class="tabs" role="tablist" aria-label="Sample tabs">
              <button class="tab on" data-tab="summary" type="button">Summary</button>
              <button class="tab" data-tab="forecast" type="button">Forecast</button>
              <button class="tab" data-tab="triage" type="button">Triage</button>
              <button class="tab" data-tab="parts" type="button">Parts</button>
            </div>
          </div>

          <div class="previewGrid">
            <div class="mock" id="pane-summary" role="tabpanel">
              <h4>Vehicle Intelligence Summary</h4>

              <div class="row">
                <div>
                  <b>Primary Risk</b>
                  <span>Misfire + lean condition likely under load; avoid extended high‑load operation until confirmed.</span>
                </div>
                <div class="tag">RISK: HIGH</div>
              </div>

              <div class="row">
                <div>
                  <b>Next Best Action</b>
                  <span>Verify fuel trims + misfire counter per cylinder. Inspect intake leaks; test coil swap if applicable.</span>
                </div>
                <div class="tag">CONF: 0.74</div>
              </div>

              <div class="row">
                <div>
                  <b>Money‑Smart Move</b>
                  <span>Test before buying parts. If trims confirm air leak, fix leak first; it can create false “bad sensor” symptoms.</span>
                </div>
                <div class="tag">SAVE</div>
              </div>

              <div class="note">This format is designed to reduce “parts cannon” behavior. It tells you what to do next and why.</div>
            </div>

            <div class="mock" id="pane-forecast" role="tabpanel" style="display:none;">
              <h4>Maintenance Forecast (VIN‑Based)</h4>
              <table class="table" aria-label="Maintenance forecast table">
                <thead>
                  <tr><th>Interval</th><th>Service</th><th>Priority</th></tr>
                </thead>
                <tbody>
                  <tr><td class="mono">Now</td><td>Oil + inspection baseline</td><td><span class="tag" style="border-color:rgba(49,214,255,.35)">A</span></td></tr>
                  <tr><td class="mono">30–60d</td><td>Cabin air + brake check</td><td><span class="tag" style="border-color:rgba(215,220,226,.18); background:rgba(215,220,226,.04)">B</span></td></tr>
                  <tr><td class="mono">90–120d</td><td>Coolant strategy review</td><td><span class="tag" style="border-color:rgba(215,220,226,.18); background:rgba(215,220,226,.04)">B</span></td></tr>
                  <tr><td class="mono">6–12m</td><td>Transmission service planning</td><td><span class="tag" style="border-color:rgba(215,220,226,.18); background:rgba(215,220,226,.04)">C</span></td></tr>
                </tbody>
              </table>
              <div class="note">Intervals are tuned by platform tendencies + mileage/time context you provide.</div>
            </div>

            <div class="mock" id="pane-triage" role="tabpanel" style="display:none;">
              <h4>Diagnosis Triage</h4>

              <div class="row">
                <div>
                  <b>Most Likely Causes</b>
                  <span>Intake leak, weak coil, vacuum plumbing fault, MAF contamination, fuel delivery variance.</span>
                </div>
                <div class="tag">TOP 5</div>
              </div>

              <div class="row">
                <div>
                  <b>Tests (Ordered)</b>
                  <span>1) Fuel trims idle vs load  2) Smoke test  3) Coil swap test  4) MAF sanity check</span>
                </div>
                <div class="tag">PATH</div>
              </div>

              <div class="row">
                <div>
                  <b>What to Ignore (For Now)</b>
                  <span>Random sensor replacement unless the test results point there. Evidence first, purchases second.</span>
                </div>
                <div class="tag">NOISE</div>
              </div>

              <div class="note">You’ll always get the “what would change my mind” logic — that’s the heart of real diagnosis.</div>
            </div>

            <div class="mock" id="pane-parts" role="tabpanel" style="display:none;">
              <h4>Parts Blueprint</h4>
              <table class="table" aria-label="Parts blueprint table">
                <thead>
                  <tr><th>Item</th><th>Why</th><th>Range</th></tr>
                </thead>
                <tbody>
                  <tr><td>Coil (x1)</td><td>Only after swap confirms</td><td class="mono">$45–$140</td></tr>
                  <tr><td>Intake seal kit</td><td>If smoke test shows leak</td><td class="mono">$20–$110</td></tr>
                  <tr><td>MAF cleaner</td><td>Low-risk sanity step</td><td class="mono">$8–$18</td></tr>
                  <tr><td>Spark plug set</td><td>If age unknown or misfire confirmed</td><td class="mono">$60–$220</td></tr>
                </tbody>
              </table>
              <div class="note">The point isn’t to buy more parts. The point is to buy the *right* part at the *right* moment.</div>
            </div>

            <div class="mock">
              <h4>Seal of Completion</h4>
              <div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
	                <img src="https://res.cloudinary.com/demo/image/fetch/f_auto,q_auto/https://main--meek-sorbet-8a4ee2.netlify.app/assets/vinvoyant-logo.png?_a=BBFAAAAA0" alt="VINvoyant Seal" style="width: 140px; height:auto; opacity:.92; filter: drop-shadow(0 0 24px rgba(49,214,255,.5));" loading="lazy">
                <div>
                  <div class="row" style="margin:0">
                    <div>
                      <b>Confidence Language</b>
                      <span>Every recommendation is tagged with confidence + the evidence required to raise certainty.</span>
                    </div>
                    <div class="tag">CLEAR</div>
                  </div>
                  <div class="note">This isn’t hype — it’s a repeatable thinking system.</div>
                </div>
              </div>
            </div>

          </div>
        </div></details>
      </div>
    </section>


    <!-- UPLOAD KIT -->
    <section id="upload">
      <div class="wrap">
        <details class="reveal">
          <summary>Upload kit</summary>
          <p>Remote diagnosis lives or dies on evidence. This kit shows what to capture so VINvoyant can move fast — and accurately.</p>

          <div class="uploadKit" style="margin-top:12px;">
          <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:flex-end;">
            <div>
              <div class="kicker" style="margin-bottom:10px;"><span class="dot" aria-hidden="true"></span> evidence that turns guesswork into certainty</div>
              <div style="font-family: var(--mono); letter-spacing:.12em; color: rgba(215,220,226,.70); font-size: 12px;">
                USE RID: <span id="ridTop">VV-0000-00000</span>
              </div>
            </div>
            <div class="actions" style="margin:0;">
              <a class="cta" href="#start" role="button" id="backToForm">Back to Intake <small>↟</small></a>
            </div>
          </div>

          <div class="uploadGrid">
            <div class="callout">
              <h4>What to capture (ranked)</h4>
              <ul class="list" aria-label="Evidence list">
                <li><span><b>Scan screenshots</b><br><span style="opacity:.85">Codes + freeze frame + live data snapshot if possible</span></span><span class="hint">HIGH</span></li>
                <li><span><b>20–30s video</b><br><span style="opacity:.85">Cold start / symptom moment / cluster warning lights</span></span><span class="hint">HIGH</span></li>
                <li><span><b>Photos</b><br><span style="opacity:.85">Leaks, broken connectors, worn belts, fluid level evidence</span></span><span class="hint">MED</span></li>
                <li><span><b>Recent work</b><br><span style="opacity:.85">What changed recently: parts replaced, battery, jumps, tire size, etc.</span></span><span class="hint">MED</span></li>
                <li><span><b>History report</b><br><span style="opacity:.85">Carfax/AutoCheck PDF or screenshots (if you have it)</span></span><span class="hint">NICE</span></li>
              </ul>
              <div class="note">Pro move: name your folder <span class="mono" id="ridFolder">VV-0000-00000</span> so your evidence stays married to your ticket.</div>
            </div>

            <div class="callout">
              <h4>How to send it</h4>
              <p class="note" style="margin-top:0;">
                Create a share link from any platform you already use (iCloud/Google Drive/Dropbox/OneDrive) and paste it into the intake form’s “Evidence Links”.
              </p>

              <div class="row" style="margin: 12px 0;">
                <div>
                  <b>Paste link in the intake</b>
                  <span>We treat it as read-only evidence. You stay in control.</span>
                </div>
                <div class="tag">SAFE</div>
              </div>

              <div class="actions" style="margin-top: 10px;">
                <button class="btn" id="focusEvidence" type="button">Focus Evidence Field</button>
                <button class="btn ghost" id="copyRid2" type="button">Copy Request ID</button>
              </div>

              <p class="note">If you can’t make a share link, reply to the confirmation email with attachments and include your Request ID.</p>
            </div>
          </div>
        </div></details>
      </div>
    </section>

    <!-- DELIVERABLES -->
    <section id="deliverables">
      <div class="wrap">
        <details class="reveal">
          <summary>What you get</summary>
          <p>Deliverables are designed to be forwarded, understood, and acted on — not admired and ignored.</p>

          <div class="grid3" style="margin-top:12px;">
          <div class="mini">
            <div class="miniIn">
              <h3>Vehicle Intelligence Summary</h3>
              <p>One-screen clarity: current risk, next services, most-likely issues, and the shortest path to “fixed.”</p>
              <div class="pillRow" style="margin-top:12px">
                <div class="pill"><strong>Priority:</strong> ranked</div>
                <div class="pill"><strong>Confidence:</strong> graded</div>
              </div>
            </div>
          </div>
          <div class="mini">
            <div class="miniIn">
              <h3>VINvoyant Blueprint</h3>
              <p>Compatible part numbers, price ranges, alternatives, and sourcing logic — built to reduce surprise costs.</p>
              <div class="pillRow" style="margin-top:12px">
                <div class="pill"><strong>OEM:</strong> when it matters</div>
                <div class="pill"><strong>Alt:</strong> when it’s smart</div>
              </div>
            </div>
          </div>
          <div class="mini">
            <div class="miniIn">
              <h3>VINvoyant Guide</h3>
              <p>Step-by-step instructions, tool notes, and torque-spec clarity (when applicable). No ego, just outcomes.</p>
              <div class="pillRow" style="margin-top:12px">
                <div class="pill"><strong>DIY:</strong> supported</div>
                <div class="pill"><strong>Shop:</strong> ready</div>
              </div>
            </div>
          </div>
        </div></details>
      </div>
    </section>

	    <!-- PRICING (moved into the hero for immediate visibility) -->

    <!-- IN-PERSON -->
    <section id="inperson">
      <div class="wrap">
        <details class="reveal">
          <summary>In‑person services (select areas)</summary>
          <p>Availability varies by region. If a VINvoyant technician is not local, the report + plan can still be produced remotely and executed through a vetted partner.</p>

          <div class="pricing" style="margin-top:12px;">
          <div class="tier">
            <h3>VINvoyant Verify</h3>
            <div class="price">Mobile PPI — <b>$299</b></div>
            <div class="priceSub">Meet-at-seller or meet-at-shop. Includes a "Buy / Pass / Negotiate" summary.</div>
            <ul>
              <li><span class="tick"></span><span>Road test (when permitted)</span></li>
              <li><span class="tick"></span><span>Visual + functional checks + photo documentation</span></li>
              <li><span class="tick"></span><span>OBD scan + module check when supported</span></li>
              <li><span class="tick"></span><span>Written findings with risk + negotiation notes</span></li>
            </ul>
          </div>

          <div class="tier">
            <h3>VINvoyant Confirm</h3>
            <div class="price">Diag + Quote — <b>$179</b></div>
            <div class="priceSub">On-site diagnostic visit to confirm findings and produce a written quote for recommended work.</div>
            <ul>
              <li><span class="tick"></span><span>Scan + inspection targeted to the symptom</span></li>
              <li><span class="tick"></span><span>Clear "what's next" plan (test-first, spend-second)</span></li>
              <li><span class="tick"></span><span>Written estimate for VINvoyant Execute (when mobile-feasible)</span></li>
              <li><span class="tick"></span><span>Programming/coding/calibration quoted after confirmation</span></li>
            </ul>
          </div>

          <div class="tier">
            <h3>VINvoyant Execute</h3>
            <div class="price">Repairs — <b>$145</b>/hr</div>
            <div class="priceSub">Mobile labor (1‑hour minimum). Some repairs require a shop lift or special tools.</div>
            <ul>
              <li><span class="tick"></span><span>Shop supplies: 8% (capped at $35)</span></li>
              <li><span class="tick"></span><span>Parts: client-supplied or VINvoyant-supplied</span></li>
              <li><span class="tick"></span><span>Managed shop drop available when a job is not mobile-friendly</span></li>
              <li><span class="tick"></span><span>Continuum members: 10% off labor + priority scheduling</span></li>
            </ul>
          </div>
        </div>

        <div class="tierInfo" style="margin-top:14px;">
          <b>In-person add-ons</b><br>
          Paint meter / bodywork scan: +$49<br>
          Borescope (access permitting): +$79<br>
          Lift-access inspection (meet at a cooperating shop): +$129<br>
          Travel fee: $0 within 15 miles, then $1.25/mile (or flat-rate by region)
        </div></details>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div class="wrap">
        <div class="sectionHead reveal">
          <div><h2>FAQ</h2></div>
          <p>Short answers. Long competence.</p>
        </div>

        <div class="reveal">
          <details>
            <summary>Is this “just a VIN decoder”?</summary>
            <p>No. VIN decoding is a starting key. VINvoyant’s value is the technician reasoning: prioritization, testing logic, and cost-smart execution.</p>
          </details>

          <details>
            <summary>What should I include for the best diagnosis?</summary>
            <p>Scan-tool screenshots (codes + freeze-frame if available), a short video of the symptom, photos of leaks/wear, and any recent work performed.</p>
          </details>

          <details>
            <summary>Can you tell me exactly what’s wrong remotely?</summary>
            <p>Sometimes. When certainty requires hands-on tests, you’ll get the next-best test plan and what outcomes mean. That’s still power.</p>
          </details>

          <details>
            <summary>How do I connect this to a real inbox / CRM?</summary>
            <p>Use Netlify Forms notifications, or send the intake to a webhook/CRM from the included serverless function. This page is already wired for Netlify Forms.</p>
          </details>
        </div>
      </div>
    </section>

    <!-- FINAL CTA -->
    <section>
      <div class="wrap">
        <div class="final reveal">
          <div>
            <h3>Ready for decision-quality clarity?</h3>
            <p>Submit the VIN and what you’re seeing. VINvoyant turns it into a plan you can execute — calmly, correctly, and with fewer surprise costs.</p>
          </div>
          <div class="finalActions">
            <a class="cta" href="#start" role="button">Start Request <small>↟</small></a>
            <a class="cta" href="#sample" role="button">See Sample <small>→</small></a>
          </div>
        </div>

        <p style="margin:14px 2px 0; color: rgba(215,220,226,.58); line-height:1.55; font-size: 12.5px;">
          © <span id="yr"></span> VINvoyant. Remote guidance only. Safety-critical work should be performed by qualified professionals.
          No affiliation with vehicle manufacturers.
        </p>
      </div>
    </section>
  </main>

  <!-- Floating orb -->
  <button class="orb" id="orb" aria-label="Start a VINvoyant request"><span>START</span></button>

  <script>

    // ===== VINvoyant LIVE STACK =====
    // This build uses Netlify Functions + Stripe Checkout Sessions:
    // - Pay Now -> server creates Checkout Session
    // - Stripe returns to /paid.html -> server verifies paid
    // - Submit Request -> server verifies session is paid, then stores submission via Netlify Forms

	    // ===== Helpers =====
	    const $ = (id) => document.getElementById(id);
	    const normalizeVIN = (v) => (v || "").toUpperCase().replace(/[^A-Z0-9]/g, "");
	    const isValidLength = (v) => v.length === 17;

	    function initLogoSplash(){
	      const splash = document.getElementById("logoSplash");
	      if(!splash) return;

	      const reduceMotion = !!(window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches);
	      const showMs = reduceMotion ? 350 : 1250;
	      const fadeMs = 380;

	      function hide(){
	        splash.classList.remove("on");
	        setTimeout(()=> { try{ splash.remove(); } catch {} }, fadeMs + 50);
	      }

	      requestAnimationFrame(()=> splash.classList.add("on"));
	      const t = setTimeout(hide, showMs);

	      splash.addEventListener("click", ()=>{
	        clearTimeout(t);
	        hide();
	      }, { once: true });

	      window.addEventListener("keydown", (e)=>{
	        if(e.key === "Escape"){
	          clearTimeout(t);
	          hide();
	        }
	      }, { once: true });
	    }

    function newRequestId(){
      const y = new Date().getFullYear();
      const n = Math.floor(10000 + Math.random()*90000);
      return `VV-${y}-${n}`;
    }

    function setRid(rid){
      $("request_id").value = rid;
      ["ridMini","rid","ridCode","ridTop","ridFolder"].forEach(k => {
        const el = $(k);
        if(el) el.textContent = rid;
      });
      localStorage.setItem("vinvoyant_last_rid", rid);
    }

    async function copyTextToClipboard(text){
      const t = String(text || "").trim();
      if(!t) return false;
      try{
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(t);
          return true;
        }
      }catch{}
      try{
        const ta = document.createElement("textarea");
        ta.value = t;
        ta.setAttribute("readonly", "");
        ta.style.position = "fixed";
        ta.style.top = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        const ok = document.execCommand("copy");
        ta.remove();
        return !!ok;
      }catch{
        return false;
      }
    }

    function wireCopyRidButtons(){
      ["copyRid","copyRid2"].forEach((id)=>{
        const btn = document.getElementById(id);
        if(!btn) return;
        btn.addEventListener("click", async ()=>{
          const rid = (document.getElementById("request_id")?.value || "").trim();
          const ok = await copyTextToClipboard(rid);
          if(!ok) showErrorToast("Could not copy. Select the Request ID and copy manually.");
        });
      });
    }

    function getOrMakeRid(){
      const urlRid = new URLSearchParams(window.location.search).get("rid");
      if(urlRid && /^VV-\d{4}-\d{5}$/.test(urlRid)) return urlRid;

      const existing = localStorage.getItem("vinvoyant_last_rid");
      if(existing && /^VV-\d{4}-\d{5}$/.test(existing)) return existing;

      return newRequestId();
    }

    // ===== Service + tier pricing display (client-side only) =====
    const serviceLevelEl = $("serviceLevel");
    const vehicleTierEl = $("vehicleTier");
    const selectedPriceEl = $("selectedPrice");

    const SERVICE_LABELS = {
      brief_remote: "VINvoyant Brief (Remote)",
      command_remote: "VINvoyant Command (Remote)",
      verify_ppi_inperson: "VINvoyant Verify (Mobile PPI)",
      confirm_diag_inperson: "VINvoyant Confirm (Diag + Quote)"
    };

    const PRICING_CENTS = {
      tier_a: {
        brief_remote: 12900,
        command_remote: 24900,
        verify_ppi_inperson: 29900,
        confirm_diag_inperson: 17900
      }
    };

    function formatUSD(cents){
      const n = Number(cents);
      if(!Number.isFinite(n)) return "—";
      return new Intl.NumberFormat("en-US", { style:"currency", currency:"USD" }).format(n/100);
    }

    function updateSelectedPrice(){
      if(!serviceLevelEl || !vehicleTierEl || !selectedPriceEl) return;
      const tier = (vehicleTierEl.value || "").trim();
      const svc = (serviceLevelEl.value || "").trim();
      const cents = PRICING_CENTS[tier]?.[svc];
      const label = SERVICE_LABELS[svc] || "Selected service";
      selectedPriceEl.textContent = cents ? `${label} — ${formatUSD(cents)}` : "—";
    }

    // ===== VIN: normalize + validate =====
    const vinInput = $("vinInput");
    const vinStatus = $("vinStatus");
    const vinMeta = $("vinMeta");
    const vinCount = $("vinCount");
    const vinValidField = $("vin_valid");

    function updateVIN(){
      const v = normalizeVIN(vinInput.value);
      if(vinInput.value !== v) vinInput.value = v;

      vinCount.textContent = v.length + "/17";

      if(v.length === 0){
        vinStatus.textContent = "Waiting";
        vinStatus.className = "warn";
        vinMeta.textContent = "READY";
        vinValidField.value = "false";
        return;
      }
      if(v.length < 17){
        vinStatus.textContent = v.length + "/17";
        vinStatus.className = "warn";
        vinMeta.textContent = "CAPTURING";
        vinValidField.value = "false";
        return;
      }
      if(isValidLength(v)){
        vinStatus.textContent = "OK";
        vinStatus.className = "ok";
        vinMeta.textContent = "LOCKED";
        vinValidField.value = "true";
      }
    }
    vinInput.addEventListener('input', updateVIN);

    // ===== Payment gate (Stripe Checkout Session) =====
    const payBtn = $("payBtn");
    const paidBtn = $("paidBtn");
    const payStatus = $("payStatus");
    const paidField = $("paid_confirmed");
    const paymentRef = $("payment_reference");

    function setPayState(state, ref){
      if(state === "paid"){
        payStatus.textContent = "Verified";
        payStatus.className = "ok";
        paidField.value = "true";
        paymentRef.value = ref || paymentRef.value || "";
      }else if(state === "verifying"){
        payStatus.textContent = "Verifying…";
        payStatus.className = "warn";
        paidField.value = "false";
      }else{
        payStatus.textContent = "Not verified";
        payStatus.className = "warn";
        paidField.value = "false";
        paymentRef.value = "";
      }
    }

    async function createCheckoutSession(){
      const rid = $("request_id").value || getOrMakeRid();
      setRid(rid);

      // best-effort email: use form field if present, else prompt
      const emailField = document.querySelector('input[name="email"]');
      let email = (emailField && emailField.value || "").trim();
      if(!email){
        email = prompt("Enter your email (used for the receipt + matching your request):") || "";
        if(emailField && email) emailField.value = email;
      }

      const service_level = (serviceLevelEl && serviceLevelEl.value || "").trim();
      const vehicle_tier = (vehicleTierEl && vehicleTierEl.value || "").trim();
      if(!service_level || !vehicle_tier){
        showErrorToast("Select <b>Service</b> and <b>Vehicle Tier</b> before checkout.");
        return;
      }

      setPayState("verifying");
      try{
        const res = await fetch("/.netlify/functions/create-checkout-session", {
          method: "POST",
          headers: {"Content-Type":"application/json"},
          body: JSON.stringify({ rid, email, service_level, vehicle_tier })
        });
        const data = await res.json();
        if(res.ok && data.url){
          // store session in case user returns later
          localStorage.setItem("vinvoyant_paid_session", data.sessionId || "");
          window.location.href = data.url;
        }else{
          setPayState("notpaid");
          showErrorToast(data.error || "Could not start checkout. Check server configuration.");
        }
      }catch(e){
        setPayState("notpaid");
        showErrorToast("Could not reach payment service. Confirm your Netlify Functions are deployed.");
      }
    }

    payBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      createCheckoutSession();
    });

    if(serviceLevelEl) serviceLevelEl.addEventListener("change", updateSelectedPrice);
    if(vehicleTierEl) vehicleTierEl.addEventListener("change", updateSelectedPrice);
    updateSelectedPrice();

    async function verifyExistingPayment(sessionId){
      if(!sessionId) return false;
      setPayState("verifying");
      try{
        const res = await fetch(`/.netlify/functions/verify-session?session_id=${encodeURIComponent(sessionId)}`);
        const data = await res.json();
        if(res.ok && data.paid){
          setPayState("paid", data.session_id);
          localStorage.setItem("vinvoyant_paid_session", data.session_id);
          // keep rid matched if Stripe returned it
          if(data.rid && /^VV-\d{4}-\d{5}$/.test(data.rid)) setRid(data.rid);
          return true;
        }
        setPayState("notpaid");
        return false;
      }catch(e){
        setPayState("notpaid");
        return false;
      }
    }

    paidBtn.addEventListener("click", async ()=>{
      // Verify Payment button: uses saved session id or prompts
      let sessionId = localStorage.getItem("vinvoyant_paid_session") || "";
      if(!sessionId){
        sessionId = prompt("Paste your Stripe Checkout Session ID (cs_test_... / cs_live_...):") || "";
        if(sessionId) localStorage.setItem("vinvoyant_paid_session", sessionId);
      }
      if(!sessionId){
        showErrorToast("No session id. Click Pay Now to create a verified checkout session.");
        return;
      }
      const ok = await verifyExistingPayment(sessionId);
      if(!ok){
        showErrorToast("Payment not confirmed yet. If you just paid, wait 10 seconds and try Verify again.");
      }
    });

    // ===== Form submit (server-verified) =====
    const form = $("intakeForm");
    const toast = $("toast");
    const toastError = $("toastError");
    const submitBtn = $("submitBtn");
    const resetBtn = $("resetBtn");
    const evidenceLinks = $("evidenceLinks");

    function showErrorToast(msg){
      toastError.style.display = "block";
      toastError.innerHTML = `<strong>Blocked.</strong> ${msg || "Fix the issue and try again."}`;
      toastError.scrollIntoView({behavior:"smooth", block:"nearest"});
    }

    async function handleSubmit(e){
      e.preventDefault();

      const vin = normalizeVIN(vinInput.value);
      if(!isValidLength(vin)){
        vinInput.focus();
        return;
      }

      // Payment required: must be verified by server
      const sessionId = localStorage.getItem("vinvoyant_paid_session") || paymentRef.value || "";
      if(!sessionId){
        showErrorToast("Payment required. Click <code>Pay Now</code>.");
        return;
      }

      // Quick re-verify before submit (keeps it honest)
      const paidOk = await verifyExistingPayment(sessionId);
      if(!paidOk){
        showErrorToast("Payment not verified. Complete checkout, then click <code>Verify Payment</code>.");
        return;
      }

      // Collect form data
      const fd = new FormData(form);
      const payload = {
        source: fd.get("source"),
        request_id: fd.get("request_id"),
        name: fd.get("name"),
        email: fd.get("email"),
        vin: fd.get("vin"),
        goal: fd.get("goal"),
        service_level: fd.get("service_level") || "",
        vehicle_tier: fd.get("vehicle_tier") || "",
        symptoms: fd.get("symptoms"),
        dtc_codes: fd.get("dtc_codes") || "",
        evidence_links: fd.get("evidence_links") || "",
        deliverables: fd.getAll("deliverables"),
        session_id: sessionId
      };

      submitBtn.textContent = "Sending…";
      submitBtn.disabled = true;

      try{
        const res = await fetch("/.netlify/functions/submit-intake", {
          method: "POST",
          headers: {"Content-Type":"application/json"},
          body: JSON.stringify(payload)
        });
        const data = await res.json();

        if(res.ok && data.ok){
          const rid = data.rid || payload.request_id;
          window.location.href = `/success.html?rid=${encodeURIComponent(rid)}${(evidenceLinks && evidenceLinks.value.trim()) ? "&hasEvidence=1" : ""}`;
        }else{
          showErrorToast(data.error || "Submission failed. Check function logs in Netlify.");
        }
      }catch(err){
        showErrorToast("Network error. Confirm Netlify Functions are deployed and env vars are set.");
      }finally{
        submitBtn.textContent = "Submit Request";
        submitBtn.disabled = false;
      }
    }

    form.addEventListener("submit", handleSubmit);

    resetBtn.addEventListener("click", ()=>{
      form.reset();
      toast.style.display = "none";
      toastError.style.display = "none";
      localStorage.removeItem("vinvoyant_paid_session");
      setRid(newRequestId());
      updateVIN();
      setPayState("notpaid");
      vinInput.focus();
      setOrbMode("start");
    });

    // ===== Sample tabs =====
    const tabs = Array.from(document.querySelectorAll(".tab"));
    const panes = {
      summary: document.getElementById("pane-summary"),
      forecast: document.getElementById("pane-forecast"),
      triage: document.getElementById("pane-triage"),
      parts: document.getElementById("pane-parts")
    };
    function setTab(key){
      tabs.forEach(t => t.classList.toggle("on", t.dataset.tab === key));
      Object.keys(panes).forEach(k => panes[k].style.display = (k === key) ? "block" : "none");
    }
    tabs.forEach(t => t.addEventListener("click", ()=> setTab(t.dataset.tab)));

    // ===== Reveal on scroll =====
    const els = Array.from(document.querySelectorAll(".reveal"));
    const io = new IntersectionObserver((entries)=>{
      for(const ent of entries){
        if(ent.isIntersecting){
          ent.target.classList.add("on");
          io.unobserve(ent.target);
        }
      }
    }, {threshold: 0.12});
    els.forEach(el => io.observe(el));

    // ===== Floating orb =====
    const orb = document.getElementById("orb");
    const startEl = document.getElementById("start");
    const uploadEl = document.getElementById("upload");

    function setOrbMode(mode){
      if(!orb) return;
      orb.dataset.mode = mode;
      const label = orb.querySelector("span");
      if(label) label.textContent = (mode === "upload") ? "UPLOAD" : "START";
    }

    function onScroll(){
      const y = window.scrollY || 0;
      if(!orb) return;
      if(y > 260) orb.classList.add("on");
      else orb.classList.remove("on");
    }
    window.addEventListener("scroll", onScroll, {passive:true});

    if(orb){
      orb.addEventListener("click", ()=>{
        const mode = orb.dataset.mode || "start";
        if(mode === "upload" && uploadEl){
          openSectionDetails("upload");
          uploadEl.scrollIntoView({behavior:"smooth", block:"start"});
          setTimeout(()=> { if(evidenceLinks) evidenceLinks.focus(); }, 520);
        }else{
          startEl.scrollIntoView({behavior:"smooth", block:"start"});
          setTimeout(()=> vinInput.focus(), 520);
        }
      });
    }

    const focusEvidence = document.getElementById("focusEvidence");
    if(focusEvidence){
      focusEvidence.addEventListener("click", ()=>{
        startEl.scrollIntoView({behavior:"smooth", block:"start"});
        setTimeout(()=> { if(evidenceLinks) evidenceLinks.focus(); }, 520);
      });
    }

    function openSectionDetails(sectionId){
      const sec = document.getElementById(sectionId);
      if(!sec) return;
      const det = sec.querySelector("details");
      if(det) det.open = true;
    }

    function openDetailsForHash(){
      const hash = (window.location.hash || "").replace("#", "");
      if(!hash) return;
      if(["sample","upload","deliverables","inperson"].includes(hash)) openSectionDetails(hash);
    }
    window.addEventListener("hashchange", openDetailsForHash);

	    // ===== Init =====
	    initLogoSplash();
	    document.getElementById("yr").textContent = new Date().getFullYear();
	    document.getElementById("sampleDate").textContent = new Date().toLocaleDateString(undefined, {year:"numeric", month:"short", day:"2-digit"});
      wireCopyRidButtons();

    const rid0 = getOrMakeRid();
    setRid(rid0);
    updateVIN();
    onScroll();
    setPayState("notpaid");
    openDetailsForHash();

    // Auto-check payment session if returning from /paid.html
    const savedSession = localStorage.getItem("vinvoyant_paid_session") || "";
    if(savedSession) verifyExistingPayment(savedSession);

  </script>


</body></html>